@font-face {
  font-family: 'DejaVu Sans';
  src: url('/static/fonts/DejaVuSans.ttf') format('truetype');
}

body {
  font-family: 'DejaVu Sans', sans-serif;
  font-size: 12px;
  color: #000;
}

/* Header with logo on the left */
.header {
  position: relative;
  min-height: 22mm;
  /* Use flex to center textual block while keeping logo absolutely positioned */
  display: flex;
  flex-direction: column;
  align-items: center;
}
.header .logo-left {
  position: absolute;
  left: 0;
  top: 5mm; /* raised by 5mm as requested */
  width: 30mm; /* slightly narrower to reduce lateral shift */
}
.header .logo-left img { width: 100%; height: auto; display: block; }

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}

td, th {
  border: 1px solid #333;
  padding: 4px;
  text-align: left;
}

/* Signature row with stamp */
.signature-row {
  text-align: right; /* align content to the right without flex */
  margin-top: 40px;
}
.signature-row .sig {
  font-weight: bold;
  display: inline-block;
  vertical-align: bottom;
}
.signature-row .stamp-box {
  display: inline-block;
  vertical-align: bottom;
  margin-left: 16px;
  border: 2px solid #1E5AA8; /* blue border for stamp effect */
  color: #1E5AA8; /* blue text */
  padding: 6px 10px;
  font-size: 11px;
  line-height: 1.25;
  text-align: center;
  border-radius: 4px;
  /* Inclinaison du tampon */
  transform: rotate(40deg);
  -webkit-transform: rotate(40deg);
  -ms-transform: rotate(40deg);
  transform-origin: center center;
}
.signature-row .stamp-box .strong {
  font-weight: 700;
  font-size: 12px;
  letter-spacing: 0.3px;
}

/* Coloscopie one-page optimizations */
.colo-one-page {
  /* tighter overall font to fit more content */
  font-size: 11px;
}
.colo-one-page .header .clinic { font-size: 15px; }
.colo-one-page .header .dept { margin-top: 6px; font-size: 13px; }
.colo-one-page .header .doctor { margin-top: 6px; font-size: 11px; line-height: 1.3; }
.colo-one-page .date-left { margin: 4px 0 6px 0; }
.colo-one-page .title { margin: 4px 0 8px 0; font-size: 13px; }
.colo-one-page .content { line-height: 1.28; font-size: 11px; }
.colo-one-page .signature-row { margin-top: 24px; }
.colo-one-page .signature-row .stamp-box { padding: 4px 8px; font-size: 10px; line-height: 1.15; transform: rotate(40deg); }
.colo-one-page .signature-row .stamp-box .strong { font-size: 11px; }

/* Prevent accidental page breaks within key blocks */
.colo-one-page .content,
.colo-one-page .signature-row { page-break-inside: avoid; }

/* Page margin reduction only for coloscopie (embedded as per template) */
@page {
  margin: 14mm 12mm 14mm 12mm; /* slightly reduced default margins */
}

/* Photos grid on second page */
.photo-page {
  page-break-before: always;
}
.photo-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-rows: 1fr 1fr;
  gap: 8mm;
}
.photo-grid .cell {
  width: 100%;
  height: 80mm; /* approx square area; adjust if needed */
  border: 1px solid #999;
  overflow: hidden;
  display: table; /* stable vertical centering with WeasyPrint */
}
.photo-grid .cell .image-vcenter {
  display: table-cell;
  vertical-align: middle;
  text-align: center;
  padding: 2mm;
}
.photo-grid .cell .image-vcenter img {
  max-width: 100%;
  max-height: 100%;
  display: inline-block;
  object-fit: contain;
}
.photo-grid .photo-item .legend {
  margin-top: 2mm;
  text-align: center;
  font-size: 10px;
  line-height: 1.25;
  color: #222;
  font-style: italic;
  padding: 0 2mm;
  word-break: break-word;
}
.photo-title {
  text-align: center;
  font-weight: bold;
  margin-bottom: 6mm;
}
